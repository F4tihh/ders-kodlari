using UnityEngine;

public class EnemyMove : MonoBehaviour
{
    [Header("Hedef (Base)")]
    public Transform target;     // Düşmanın gideceği hedef
    public float speed = 2f;     // Düşman hızı

    void Update()
    {
        // Hedef varsa oraya doğru hareket et
        if (target)
        {
            transform.position = Vector3.MoveTowards(
                transform.position,
                target.position,
                speed * Time.deltaTime
            );
        }
    }

    void OnTriggerEnter(Collider other)
    {
        // Eğer Base'e ulaştıysa
        if (other.CompareTag("Base"))
        {
            // GameOver panelini bul ve göster
            var ui = FindObjectOfType<GameOverUI>();
            if (ui)
            {
                ui.Show();
            }

            // Düşmanı yok et
            Destroy(gameObject);
        }
    }
}
